import { LinearAdapterResult, Protocol } from "../types/adapters";
import { periodToSeconds } from "../utils/time";

const emissions: { [key: string]: { [month: number]: number } } = {
  Rewards: {
    0: 400000,
    1: 4134497,
    2: 4134497,
    3: 4134497,
    4: 4134497,
    5: 4134497,
    6: 4134497,
    7: 4134497,
    8: 4134497,
    9: 4134497,
    10: 4134497,
    11: 4134497,
    12: 11594699,
    15: 12881901,
    18: 12139034,
    21: 11438618,
    24: 10896124,
    27: 10273470,
    30: 9686398,
    33: 9132873,
    36: 8610980,
    39: 8118910,
    42: 7654959,
    45: 7217520,
    48: 6805078,
    51: 6416206,
    54: 6049555,
    57: 5703856,
    60: 5377912,
    63: 5070594,
    66: 4780837,
    69: 4507639,
    72: 4250052,
    75: 4007185,
    78: 3778196,
    81: 3562293,
    84: 3358728,
    87: 3166795,
    90: 2985830,
    93: 2815206,
    96: 2654333,
    99: 2502652,
    102: 2359639,
    105: 2224799,
    108: 2097664,
  },
  Community: {
    0: 110241627,
    1: 3172158,
    2: 3172158,
    3: 3172158,
    4: 3172158,
    5: 3172158,
    6: 3172158,
    7: 3172158,
    8: 3172158,
    9: 3172158,
    10: 3172158,
    11: 3172158,
    12: 8972659,
    15: 9996325,
    18: 9425090,
    21: 8886498,
    24: 8378684,
    27: 7899888,
    30: 7448453,
    33: 7022815,
    36: 6385177,
    39: 6006795,
    42: 5650035,
    45: 5313663,
    48: 4996512,
    51: 4697484,
    54: 4415544,
    57: 4149716,
    60: 3899077,
    63: 3662762,
    66: 3614825,
    69: 3466194,
    72: 3268120,
    75: 3081365,
    78: 2905282,
    81: 2739261,
    84: 2582727,
    87: 2435139,
    90: 2295984,
    93: 2164781,
    96: 2041076,
    99: 1924440,
    102: 1814468,
    105: 1710781,
    108: 1613020,
  },
  "Sky Mavis": {
    0: 7697671,
    3: 3848836,
    6: 3848836,
    9: 3848836,
    12: 15796014,
    15: 15796014,
    18: 15796014,
    21: 15796014,
    24: 15796014,
    27: 15796014,
    30: 15796014,
    33: 15796014,
    36: 15796014,
    39: 15796014,
    42: 15796014,
    45: 15796014,
    48: 15796014,
    51: 15796012,
    54: 8025759,
    57: 7848151,
    60: 7677648,
    63: 7513964,
    66: 7356828,
    69: 7205978,
    72: 7061162,
    75: 6922138,
  },
  Ecosystem: {
    0: 30000000,
    3: 4832450,
    6: 4591152,
    9: 4359506,
    12: 6569254,
    15: 6355769,
    18: 6150824,
    21: 5954076,
    24: 5765198,
    27: 5583875,
    30: 5409806,
    33: 5242698,
    36: 5082276,
    39: 4928270,
    42: 4780424,
    45: 4638492,
    48: 4502238,
    51: 4371434,
    54: 4245861,
    57: 4125312,
    60: 4009585,
    63: 3898486,
    66: 3791832,
    69: 3689444,
    72: 3591151,
    75: 3530586,
  },
};

const ronin: Protocol = {
  meta: {
    token: `ronin:0xe514d9deb7966c8be0ca922de8a064264ea6bcd4`,
    sources: ["https://docs.roninchain.com/docs/basics/tokenomics"],
    notes: [],
    protocolIds: ["4440"],
  },
  categories: {
    farming: [],
  },
};
const schedule = (): void => {
  const origin: number = 1643241600;

  Object.entries(emissions).map(([name, data]) => {
    const section: LinearAdapterResult[] = [];

    Object.entries(data).map(([month, amount], i: number) => {
      const start: number =
        month == "0"
          ? origin
          : origin +
            periodToSeconds.month * (Number(Object.keys(data)[i - 1]) + 1);
      const end: number = origin + periodToSeconds.month * (Number(month) + 1);

      section.push({ type: "linear", start, end, amount });
    });

    ronin[name] = section;
  });
};

schedule();

export default ronin;
